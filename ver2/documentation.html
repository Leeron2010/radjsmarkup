<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>RAD-js project</title>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="prettify/prettify.css">
</head>
<body>

<div class="header">
	<div class="wrapper">
<!-- 		<div class="language-bar">
	<span>En</span>
	<a href="#">Ru</a>
</div> -->

		<a href="index.html" class="logo-link"></a>
		<span class="menu-link documentation">Documentation</span>
		<!-- <a href="demo.html" class="menu-link demo">Demo</a> -->
	  	<a href="faq.html" class="menu-link faq">FAQ</a>
	  	<a href="contact.html" class="menu-link contact">Contact</a>
	  	<!-- <a href="#" class="menu-link discus">Discus</a> -->
	</div>
</div>

<div class="documentation-wrapper wrapper">
	<div class="side-menu">
		<ul>
			<li><a href="#applicationobject">Application object</a></li>
			<li><a href="#Core">Core</a>
			<ul>
				<li><a href="#Core-Methods-of-the-core">Methods of the core</a>
				<ul>
					<li><a href="#Core-Methods-of-the-core-subscribe">subscribe</a></li>
					<li><a href="#Core-Methods-of-the-core-publish">publish</a></li>
					<li><a href="#Core-Methods-of-the-core-unsubscribe">unsubscribe</a></li>
					<li><a href="#Core-Methods-of-the-core-channels">channels</a></li>
					<li><a href="#Core-Methods-of-the-core-register">register</a></li>
					<li><a href="#Core-Methods-of-the-core-registerAll">registerAll</a></li>
					<li><a href="#Core-Methods-of-the-core-startViewOrService">startViewOrService</a></li>
					<li><a href="#Core-Methods-of-the-core-startPlugin">startPlugin</a></li>
					<li><a href="#Core-Methods-of-the-core-stop">stop</a></li>
					<li><a href="#Core-Methods-of-the-core-startAll">startAll</a></li>
					<li><a href="#Core-Methods-of-the-core-getView">getView</a></li>
					<li><a href="#Core-Methods-of-the-core-getStartedView">getStartedView</a></li>
					<li><a href="#Core-Methods-of-the-core-initialize">initialize</a></li>
					<li><a href="#Core-Methods-of-the-core-getService">getService</a></li>
				</ul>
				</li>
				<li><a href="#Core-Options-of-the-core">Options of the core</a>
				<ul>
					<li><a href="#Core-Options-of-the-core-plugins">plugins</a></li>
					<li><a href="#Core-Options-of-the-core-defaultBackstack">defaultBackstack</a></li>
					<li><a href="#Core-Options-of-the-core-backstackType">backstackType</a></li>
					<li><a href="#Core-Options-of-the-core-defaultAnimation">defaultAnimation</a></li>
					<li><a href="#Core-Options-of-the-core-animationTimeout">animationTimeout</a></li>
					<li><a href="#Core-Options-of-the-core-debug">debug</a></li>
				</ul>
				</li>
			</ul>
			</li>
			<li><a href="#Core-Plugins-of-the-core">Plugins of the core</a>
			<ul>
				<li><a href="#Core-Navigation">Navigation</a>
				<ul>
					<li><a href="#Core-Navigation-show">show</a></li>
					<li><a href="#Core-Navigation-showback">back</a></li>
					<li><a href="#Core-Navigation-showdialogshow">dialog.show</a></li>
					<li><a href="#Core-Navigation-showdialogclose">dialog.close</a></li>
					<li><a href="#Core-Navigation-showtoastshow">toast.show</a></li>
					<li><a href="#Core-Navigation-showtoastclose">toast.close</a></li>
					<li><a href="#Core-Navigation-showpopupshow">popup.show</a></li>
					<li><a href="#Core-Navigation-showpopupclose">popup.close</a></li>
				</ul>
				</li>
				<li><a href="#Core-Fastclick">Fastclick</a></li>
				<li><a href="#Core-Router">Router</a>
				<ul>
					<li><a href="#Core-Router-backstack">backstack</a></li>
				</ul>
				</li>
			</ul>
			</li>
			<li><a href="#view">View</a>
			<ul>
				<li><a href="#moduledeclaration">Module declaration</a></li>
				<li><a href="#methods">Methods</a>
				<ul>
					<li><a href="#view-subscribe">subscribe</a></li>
					<li><a href="#view-unsubscribe">unsubscribe</a></li>
					<li><a href="#view-publish">publish</a></li>
					<li><a href="#view-s">$</a></li>
					<li><a href="#view-finish">finish</a></li>
					<li><a href="#view-getChildren">getChildren</a></li>
					<li><a href="#view-bindModel">bindModel</a></li>
					<li><a href="#view-changeModel">changeModel</a></li>
					<li><a href="#view-unbindModel">unbindModel</a></li>
					<li><a href="#view-render">render</a></li>
					<li><a href="#view-refreshScroll">refreshScroll</a></li>
				</ul>
				</li>
				<li><a href="#view-Callbacks">Callbacks</a>
				<ul>
					<li><a href="#view-Callbacks-onInitialize">onInitialize</a></li>
					<li><a href="#view-Callbacks-onStartRender">onStartRender</a></li>
					<li><a href="#view-Callbacks-onEndRender">onEndRender</a></li>
					<li><a href="#view-Callbacks-onNewExtras">onNewExtras</a></li>
					<li><a href="#view-Callbacks-onStartAttach">onStartAttach</a></li>
					<li><a href="#view-Callbacks-onEndAttach">onEndAttach</a></li>
					<li><a href="#view-Callbacks-onEndDetach">onEndDetach</a></li>
					<li><a href="#view-Callbacks-onDestroy">onDestroy</a></li>
					<li><a href="#view-Callbacks-onReceiveMsg">onReceiveMsg</a></li>
					<li><a href="#view-Callbacks-loaderdone">loader.done</a></li>
				</ul>
				</li>
				<li><a href="#view-options-of-View">Options of View</a>
				<ul>
					<li><a href="#view-options-of-View-url">url</a></li>
					<li><a href="#view-options-of-View-tagName">tagName Ð¸ ClassName</a></li>
					<li><a href="#view-options-of-View-children">children</a></li>
					<li><a href="#view-options-of-View-events">events</a></li>
					<li><a href="#view-options-of-View-model">model</a></li>
					<li><a href="#view-options-of-View-custom">custom options</a></li>
				</ul>
				</li>
				<li><a href="#view-Animation">Animation</a></li>
				<li><a href="#view-Templates">Templates</a></li>
			</ul>
			</li>
			<li><a href="#Toast">Toast</a></li>
			<li><a href="#Popup">Popup</a></li>
			<li><a href="#Scrollable-view">Scrollable view</a></li>
			<li><a href="#Model">Model</a>
			<ul>
				<li><a href="#Model-of-application-level">Model of application level</a></li>
			</ul>
			</li>
			<li><a href="#Service">Service</a>
			<ul>
				<li><a href="#Service-Declaration">Declaration</a></li>
				<li><a href="#Service-Callbacks">Callbacks</a>
				<ul>
					<li><a href="#Service-Callbacks-onInitialize">onInitialize</a></li>
					<li><a href="#Service-Callbacks-onDestroy">onDestroy</a></li>
					<li><a href="#Service-Callbacks-onReceiveMsg">onReceiveMsg</a></li>
				</ul>
				</li>
			</ul>
			</li>
			<li><a href="#Namespace">Namespace</a></li>
		</ul>
	</div>
	<div class="docmentation-content">		
<h2 id="applicationobject">Application object</h2>

<p>Any JS object can serve as <strong>application</strong> object. It will be available in any module (<strong>views</strong> and services) through <strong>this.application</strong>.</p>

<p>E.g.: <strong>this.application.logout();</strong> in any module launches the <strong>logout</strong> method in <strong>application</strong> object. There can be any methods in the application - it is desirable if they reflect functionality of the application. E.g.: log in, log out, leave the application etc. Thus modules belong to the &quot;application&quot; abstraction level, instead of &quot;network&quot;, &quot;model&quot;, or other one.</p>

<p>Example of declaration of application object constructor, using methods of the core:</p>
<pre class="prettyprint linenums">
RAD.application(function (core) {
    &#39;use strict&#39;;

    var app = this;

    app.start = function () {
        var options = {
        container_id: &#39;#screen&#39;,
        content: &quot;view.parent_widget&quot;,
        animation: &#39;none&#39;
        };
        core.publish(&#39;navigation.show&#39;, options);
    };

    return app;
});
</pre>

<p>Notice: the Boolean value is transferred by the second parameter in <strong>RAD.application.</strong> The value defines whether or not to create an application instance.</p>

<p>It is also worth noticing that application registry call can be performed only once, since it is a self-defining function. After the call, the instance of your application will be available in the <em>RAD.application</em> namespace.</p>

<h2 id="Core">Core</h2>

<ul>
	<li>
	<p>Management of application part lifecycle (allows to add and remove modules, which control the memory loading of JavaScript virtual machine).</p>
	</li>
	<li>
	<p>Communication interface (allows application parts to interact with each other).</p>
	</li>
	<li>
	<p>Opportunity to extend functionality via plugins.</p>
	</li>
</ul>

<h3 id="Core-Methods-of-the-core">Methods of the core</h3>

<p>Here is an example of how methods of the core can be called:</p>

<pre class="prettyprint linenums">
// if the core is available (from a plugin or on application level)
core.publish(&#39;navigation.show&#39;, options);
// for a module
this.publish(&#39;navigation.show&#39;, options);
</pre>

<h4 id="Core-Methods-of-the-core-subscribe">subscribe</h4>

<pre class="prettyprint linenums">
subscribe(channel, fn, context);
</pre>

<p>Subscribes the <strong>fn</strong> callback function to execution in <strong>context</strong> after having received a message through <strong>channel</strong>.</p>

<p>Module is automatically subscribed to messages which start with &quot;view.&quot; and its ID. For example, a created module, registered as <strong>&quot;view.myModule&quot;</strong>, will be automatically subscribed to the &quot;view.myModule&quot; channel, as well as to &quot;view.myModule.doSomeAction&quot;.</p>

<p>Such messages can be processed in the <a href="#view-Callbacks-onReceiveMsg">onReceiveMsg</a> callback.</p>

<h4 id="Core-Methods-of-the-core-publish">publish</h4>
<pre class="prettyprint linenums">
publish(channel, data)
</pre>

<p>Publishes a message in <strong>channel</strong> and transfers <strong>data</strong> to subscribers.</p>

<p>In case the message is published in the &quot;view_ID&quot; channel of a module it is registered by, and if you are not sure whether this module exists in the moment of sending the message, you may indicate <strong>autocreate: true</strong> as one of the fields in the data, transferred to the channel. In case of need, a module instance will be automatically created.</p>

<h4 id="Core-Methods-of-the-core-unsubscribe">unsubscribe</h4>

<pre class="prettyprint linenums">
unsubscribe([channel,] context)
</pre>

<p>Unsubscribes <strong>channel</strong> in <strong>context</strong>, in which the callback was executed. If <strong>null</strong> is indicated as a <strong>channel</strong>, this method cancels all subscriptions of the object.</p>

<h4 id="Core-Methods-of-the-core-channels">channels</h4>
<pre class="prettyprint linenums">
channels()
</pre>
<p>Returns the existing message channels.</p>

<h4 id="Core-Methods-of-the-core-register">register</h4>
<pre class="prettyprint linenums">
register(viewID/serviceID, fabric)
</pre>
<p>Registers a module in the core. The module is named <strong>viewID/serviceID</strong> and has the <strong>fabric</strong> constructor. If the module is registered automatically, this method is not necessary (ref. <a href="#view">declaration of the module</a>).</p>
<p>Hereby a module instance is not created.</p>

<h4 id="Core-Methods-of-the-core-registerAll">registerAll</h4>
<pre class="prettyprint linenums">
registerAll(arrayOfViews)
</pre>
<p>Calls register for each module listed in <strong>arrayOfViews</strong>. Example of array:</p>
<pre class="prettyprint linenums">
views = [
    {&quot;view.start_page&quot;: view.StartPage},
    {&quot;view.second_page&quot;: view.SecondPage},
],
</pre>
<p>Notice: names of modules start with <strong>&quot;view.&quot;</strong>; names of services (modules without visual representation) start with <strong>&quot;service.&quot;</strong>.</p>

<h4 id="Core-Methods-of-the-core-startViewOrService">startViewOrService</h4>
<pre class="prettyprint linenums">
startViewOrService(viewID, [extras])
</pre>
<p>Instantiates module named <strong>viewID</strong>.</p>

<p>Uses the <strong>extras</strong> object in callback of the <a href="#view-Callbacks-onNewExtras">onNewExtras</a> module.</p>

<h4 id="Core-Methods-of-the-core-startPlugin">startPlugin</h4>
<pre class="prettyprint linenums">
startPlugin(pluginID)
</pre>
<p>Instantiates a plugin named <strong>pluginID</strong>, from the list of registered plugins of the <a href="#Core-Plugins-of-the-core">plugins</a> core.</p>

<h4 id="Core-Methods-of-the-core-stop">stop</h4>
<pre class="prettyprint linenums">
stop(viewID, callback, context)
</pre>

<p>Stops operation of the <strong>viewID</strong> module; after that performs <strong>callback</strong> in <strong>context</strong>.</p>

<h4 id="Core-Methods-of-the-core-startAll">startAll</h4>
<pre class="prettyprint linenums">
startAll()
</pre>
<p>Instantiates and launches all modules.</p>

<h4 id="Core-Methods-of-the-core-getView">getView</h4>
<pre class="prettyprint linenums">
getView(viewID, [extras])
</pre>

<p>Returns the <strong>viewID</strong> module instance, transfers the <strong>extras</strong> object to it (ref. <a href="#view-Callbacks-onNewExtras">onNewExtras</a>). If the instance does not exist, <strong>getView</strong><strong> </strong>instantiates it.</p>

<h4 id="Core-Methods-of-the-core-getStartedView">getStartedView</h4>
<pre class="prettyprint linenums">
getStartedView()
</pre>

<p>Returns the array of all instantiated modules; their visibility on the screen is not required.</p>

<h4 id="Core-Methods-of-the-core-initialize">initialize</h4>
<pre class="prettyprint linenums">
initialize(application, options)
</pre>

<p>Initializes the core with the <strong>options</strong> parameters, saves the link to the <strong>application</strong> object for further injection of direct application link into all modules.</p>

<h4 id="Core-Methods-of-the-core-getService">getService</h4>

<pre class="prettyprint linenums">
getService(serviceID, [extras])
</pre>

<p>Identical to the <a href="#Core-Methods-of-the-core-getView">getView</a> method.</p>

<h2 id="Core-Options-of-the-core">Options of the core</h2>

<p>Options of the core are determined by the object of the options. E.g.:</p>

<pre class="prettyprint linenums">
coreOptions = {
        plugins: [
			{&quot;plugin.navigator&quot;: plugin.navigation},
			{&quot;plugin.fastclick&quot;: plugin.fastClick},
			{&quot;plugin.router&quot;: plugin.router}
        ],
        defaultBackstack: false,
        backstackType: &#39;native&#39;,
        defaultAnimation: &#39;slide&#39;,
        animationTimeout: 3000,
        debug: false
    };

//initialize core by new application object
core.initialize(application, coreOptions);
</pre>

<h3 id="Core-Options-of-the-core-plugins">plugins</h3>

<pre class="prettyprint linenums">
plugins: [
    {&quot;plugin.navigator&quot;: plugin.navigation},
    {&quot;plugin.fastclick&quot;: plugin.fastClick},
    {&quot;plugin.router&quot;: plugin.router}
],

</pre>

<p>Array of connected plugins; of which currently are implemented router, layout manager, and crossbrowser events for touchscreen devices (&quot;tap&quot;, &quot;swipe&quot; etc.). For further details ref. <a href="#Core-Plugins-of-the-core">plugins</a>.</p>

<p>Notice: the <strong>&quot;plugin.navigator&quot;, &quot;plugin.fastclick&quot;, &quot;plugin.router&quot;</strong> plugins are registered, and there is no need in declaring them.</p>

<h3 id="Core-Options-of-the-core-defaultBackstack">defaultBackstack</h3>

<pre class="prettyprint linenums">
// no backstack
defaultBackstack: false,
// backstack enabled
defaultBackstack: true,
</pre>

<p>Default backstack for <strong>all</strong> transactions. When <strong>false</strong> is indicated, history of changes in screen content (layout change of view) will not be saved. To enter a transaction to the history, the <strong>backstack: true</strong> option should be utilized, while using <a href="#Core-Navigation">navigation</a>.<br />
For further details ref. <a href="#Core-Router-backstack">Backstack</a>.</p>

<h3 id="Core-Options-of-the-core-backstackType">backstackType</h3>

<pre class="prettyprint linenums">
//backstack using history API
backstackType: &#39;native&#39;
//backstack using hash-links for history API
backstackType: &#39;hashbang&#39;
//inner implementation of backstack
backstackType: &#39;custom&#39;
</pre>

<p>Backstack type for all transactions. If the value of this option is undefined, backstack type will be determined automatically (&#39;<strong>native</strong>&#39; or &#39;<strong>hashbang</strong>&#39;, depending on the browser).</p>

<p>For further details about backstack types ref. <a href="#Core-Router-backstack">Backstack</a>.</p>

<h3 id="Core-Options-of-the-core-defaultAnimation">defaultAnimation</h3>

<pre class="prettyprint linenums">
defaultAnimation: &#39;slide&#39;,
</pre>

<p>Default animation of module interchange. It can gain such values as <strong>&#39;slide&#39;</strong>, <strong>&#39;fade&#39;</strong> and <strong>&#39;none&#39;</strong> (instant substitution). Further details in <a href="#view-Animation">module animation</a>.</p>

<h3 id="Core-Options-of-the-core-animationTimeout">animationTimeout</h3>

<pre class="prettyprint linenums">
animationTimeout: 3000,
</pre>

<p>Duration of time, after which interface is unblocked (the block is launched at the beginning of animation) in case of unforeseen errors.</p>

<h3 id="Core-Options-of-the-core-debug">debug</h3>

<pre class="prettyprint linenums">
debug: false
</pre>

<p>Debug mode. When <strong>true</strong>, it enters information about events, channels and objects of the core into browser console.</p>

<h2 id="Core-Plugins-of-the-core">Plugins of the core</h2>

<p>Plugins implement additional functionality of the core, which is required for system functioning, and does not depend on actual implementation of application logic. If a functional module must be implemented without visual representation in actual application, it is recommended to use services.</p>

<h3 id="Core-Navigation">Navigation</h3>

<p>The <strong>navigation</strong> plugin processes all messages with the <strong>&#39;navigation.&#39;</strong> root node and manages views (display, hide, provide backstack, status change notification).</p>

<h4 id="Core-Navigation-show">show</h4>

<pre class="prettyprint linenums">
var options = {
    container_id: &#39;#screen&#39;,
    content: &quot;view.start_page&quot;,
    animation: &quot;none&quot;,
    backstack: false,
    callback: null,
    context: null,
    extras: null

}
this.publish(&#39;navigation.show&#39;, options);
</pre>

<p>Shows the module which is indicated in <strong>options.content</strong>, in the <strong>options.container_id</strong> container (CSS-selector).<br />
<br />
Parameters of <strong>options</strong>:</p>

<ul>
	<li>
	<p><strong>content</strong> - registered module name (<strong>viewID</strong>), which will be displayed;</p>
	</li>
	<li>
	<p><strong>container_id</strong> - selector of container element for displaying the module;</p>
	</li>
	<li>
	<p><strong>animation</strong> - <a href="#view-Animation">animation</a> that is used by change of view in a selected container;</p>
	</li>
	<li>
	<p><strong>backstack</strong> - saves history of module position changes (<strong>true</strong> or <strong>false</strong>);</p>
	</li>
	<li>
	<p><strong>callback</strong> - function that runs after the <strong>content</strong> module is no longer displayed;</p>
	</li>
	<li>
	<p><strong>context</strong> - implementation context for <strong>callback</strong>;</p>
	</li>
	<li>
	<p><strong>extras</strong> - ref. <a href="#view-Callbacks-onNewExtras">onNewExtras</a>.</p>
	</li>
</ul>

<p>Required parameters are <strong>content</strong> and <strong>container_id</strong> (the latter is optional for toast.show and dialog.show). Other parameters are optional.</p>

<h4 id="Core-Navigation-showback">back</h4>

<pre class="prettyprint linenums">
this.publish(&#39;navigation.back&#39;, options);
</pre>

<p>Similar to <strong>navigation.show</strong>. Reverse animation is used by default.</p>

<h4 id="Core-Navigation-showdialogshow">dialog.show</h4>
<pre class="prettyprint linenums">
this.publish(&#39;navigation.dialog.show&#39;, options);
</pre>

<p>Similar to <strong>navigation.show</strong> but shows the module as a modal window. Can be closed with <a href="#Core-Navigation-showdialogclose">dialog.close</a>.</p>

<h4 id="Core-Navigation-showdialogclose">dialog.close</h4>
<pre class="prettyprint linenums">
this.publish(&#39;navigation.dialog.close&#39;, options);
</pre>

<p>Closes the modal window.</p>

<h4 id="Core-Navigation-showtoastshow">toast.show</h4>
<pre class="prettyprint linenums">
options = {
    content: &quot;view.toast&quot;,
    gravity: &#39;left&#39;,
};

this.publish(&#39;navigation.toast.show&#39;, options);
</pre>

<p>Shows the module as an alert which closes automatically (in 3 seconds by default) or with a click.<br />
The <strong>options.gravity</strong> parameter means position; it can take values <strong>center</strong>, <strong>center</strong>, <strong>left</strong>, <strong>right</strong>, <strong>top</strong> and <strong>bottom</strong>.</p>

<p>Obligatory condition: view must be inherited from <strong>RAD.Blanks.Toast</strong>.</p>

<h4 id="Core-Navigation-showtoastclose">toast.close</h4>
<pre class="prettyprint linenums">
this.publish(&#39;navigation.toast.close&#39;, options);
</pre>

<p>Closes the alert.</p>

<h4 id="Core-Navigation-showpopupshow">popup.show</h4>
<pre class="prettyprint linenums">
options = {
        content: &quot;view.popup&quot;,
        target: document.getElementById(targetID),
        width: 180,
        height: 200,
        gravity: &#39;right&#39;,
    };

this.publish(&#39;navigation.popup.show&#39;, options);
</pre>

<p>Shows the module as a non-blocking popup window, which can be closed with a click outside of it.</p>

<p>Options:</p>

<ul>
	<li>
	<p><strong>target</strong>: element, with respect to which a popup is positioned;</p>
	</li>
	<li>
	<p><strong>gravity</strong>: position with respect to <strong>target</strong>; it can take values <strong>none</strong> (direction is chosen automatically), <strong>center</strong>, <strong>left</strong>, <strong>right</strong>, <strong>top</strong>, and <strong>bottom</strong>.</p>

	
	</li>
</ul>

<p>Obligatory condition: view must be inherited from <strong>RAD.Blanks.Popup</strong>.</p>

<h4 id="Core-Navigation-showpopupclose">popup.close</h4>
<pre class="prettyprint linenums">
this.publish(&#39;navigation.popup.close&#39;, options);
</pre>

<p>Closes the popup window.</p>

<h3 id="Core-Fastclick">Fastclick</h3>

<p>This plugin of the core executes such crossbrowser events as &laquo;swipe&raquo;, &laquo;tap&raquo;, &laquo;tapdown&raquo;, &laquo;tapup&raquo;, &laquo;tapmove&raquo;, &laquo;tapcancel&raquo;.</p>

<h3 id="Core-Router">Router</h3>

<p>It is used by the core for navigation; realizes backstack.</p>

<h4 id="Core-Router-backstack">backstack</h4>
<pre class="prettyprint linenums">
options = {
    backstack: true,
}
</pre>

<p>The plugin component named <strong>router</strong> allows to dynamically memorize layout of views on the screen, for a particular session, using the browser&#39;s <em>history API</em> or internal realization. Thus it allows to return to previous positions of modules. <strong>backstack</strong> is not analogous to <em>Routers</em> in <strong>Backbone.js</strong> or <strong>Angular.js</strong>.<br />
<br />
There are 3 backstack types, implemented in the plugin (<strong>backstackType</strong>):</p>

<ul>
	<li>
	<p><strong>native</strong> - uses the browser&#39;s <em>history API</em>;</p>
	</li>
	<li>
	<p><strong>hashbang</strong> - uses generation of <strong>hash</strong>-link (for browsers that do not support <strong>history.pushState</strong>);</p>
	</li>
	<li>
	<p><strong>custom</strong> - internal realization (without <em>history API</em>).</p>
	</li>
</ul>

<p>If <strong>defaultBackstack</strong> in <strong>Core</strong> settings has the value <strong>false</strong>, then it is enough to indicate <strong>backstack: true</strong> in <a href="#Core-Navigation-show">views change query</a> to use backstack; thus the next layout of views will remain the same.</p>

<p>A shift back in the stack is executed:</p>

<ul>
	<li>
	<p>by browser buttons &quot;Back&quot;/&quot;Forward&quot; or by calling <strong>history.back()</strong> - for such backstack types as <strong>&#39;native&#39;</strong> and <strong>&#39;hashbang&#39;</strong>;</p>
	</li>
	<li>
	<p>by publishing a message <strong>&#39;router.back&#39;</strong> - for all types</p>
	</li>
</ul>

<pre class="prettyprint linenums">
history.back(); // backstackType: &#39;native&#39; or &#39;hashbang&#39;
this.publish(&#39;router.back&#39;, null); // any backstackType
</pre>

<p><strong>Router</strong> is subscribed to the following messages:</p>

<ul>
	<li>
	<p><strong>&#39;router.clear&#39;</strong> - when it receives a message, erases the whole navigation history of a chosen session (empties the backstack);</p>
	</li>
	<li>
	<p><strong>&#39;router.back&#39;</strong> - when it receives a message, calls a one-step shift back in backstack;</p>
	</li>
	<li>
	<p><strong>&#39;router.beginTransition&#39;</strong> - a message is published by the <strong>navigation</strong> plugin, before the animation (transition) of <strong>view</strong> change;</p>
	</li>
	<li>
	<p><strong>&#39;router.endTransition&#39;</strong> - a message is published by the <strong>navigation</strong> plugin, when the animation of <strong>view</strong> change is over. In this case, the URL of previous positions of modules is added to history (<strong>&#39;native&#39;</strong> and <strong>&#39;hashbang&#39; </strong>backstack types) or internal stack (<strong>&#39;custom&#39;</strong>)</p>
	</li>
</ul>

<pre class="prettyprint linenums">
this.publish(&#39;router.clear&#39;, null); //setting the existing backstack to zero
this.publish(&#39;router.back&#39;, null); //shift back in backstack
</pre>

<p><strong>Router</strong> publishes the following messages:</p>

<ul>
	<li>
	<p><strong>&#39;backstack.pop&#39;</strong> - message is published at the moment when a shift back in backstack occurs;</p>
	</li>
	<li>
	<p><strong>&#39;backstack.empty&#39;</strong> - message is published at the moment when backstack is emptied.</p>
	</li>
</ul>

<p>An example of use of backstack:</p>

<pre class="prettyprint linenums">
RAD.view(&quot;view.screen_1&quot;, RAD.Blanks.View.extend({
    url: &#39;source/views/screen_1/screen_1.html&#39;,
    events: {
        &#39;tap button.next-scr&#39;: &#39;open&#39;
    }
    open: function () {
        this.publish(&#39;navigation.show&#39;, {
			content: &#39;view.screen_2&#39;,
			container_id: &#39;#content&#39;,
			backstack: true
			//upon the completion of view change, the URL that corresponds to current position of views, will be saved
        });
    }
}));

RAD.view(&quot;view.screen_2&quot;, RAD.Blanks.View.extend({
    url: &#39;source/views/screen_2/screen_2.html&#39;,
    events: {
        &#39;tap button.next-scr&#39;: &#39;open&#39;
    }
    open: function () {
        this.publish(&#39;navigation.show&#39;, {
			content: &#39;view.screen_3&#39;,
			container_id: &#39;#content&#39;,
			backstack: true
			//upon the completion of view change, the URL that corresponds to current position of views, will be saved
        });
    }
}));

RAD.view(&quot;view.top_widget&quot;, RAD.Blanks.View.extend({
    className: &#39;block&#39;,
    url: &#39;source/views/top_widget/top_widget.html&#39;,
    events: {
        &#39;tap button.go-back&#39;: &#39;goBack&#39;
    },
    goBack: function () {
        &quot;use strict&quot;;
        this.publish(&#39;router.back&#39;, null); //return to the last saved position of modules
    }
}));
</pre>

<h2 id="view">View</h2>

<p>Base for view constructor in the application; represents an extended <strong>backbone.view</strong>.</p>

<h3 id="moduledeclaration">Module declaration</h3>

<p>Instance of the &#39;start_page.js&#39; module file; view declaration through the &#39;namespace&#39; pattern:</p>

<pre class="prettyprint linenums">
RAD.views.StartPage = RAD.Blanks.View.extend({
    url: &#39;source/views/start_page.html&#39;
})
</pre>

<p>Notice: for such declaration you must use the <a href="#Core-Methods-of-the-core-register">register</a> view, so that the module is available to the core. It is recommended to use the following way of module declaration:</p>

<pre class="prettyprint linenums">
    RAD.view(&quot;view.start_page&quot;, RAD.Blanks.View.extend({
        url: &#39;source/views/start_page.html&#39;
    }));

</pre>

<h3 id="methods">Methods</h3>

<h4 id="view-subscribe">subscribe</h4>

<pre class="prettyprint linenums">
this.subscribe(channel, function, context);
</pre>

<p>Subscribes chosen module instance to chosen channel; represents direct link to the <a href="#Core-Methods-of-the-core-subscribe">subscribe</a> method of the core.</p>

<h4 id="view-unsubscribe">unsubscribe</h4>
<pre class="prettyprint linenums">
this.unsubscribe([channel,] context);
</pre>

<p>Unsubscribes chosen module instance from chosen channel; represents direct link to the <a href="#Core-Methods-of-the-core-unsubscribe">unsubscribe</a> method of the core.</p>

<h4 id="view-publish">publish</h4>
<pre class="prettyprint linenums">
this.publish(channel, data);
</pre>

<p>Publishes a message that contains <strong>data</strong> to an indicated <strong>channel;</strong> represents direct link to the <a href="#Core-Methods-of-the-core-publish">publish</a> method of the core.</p>

<h4 id="view-s">$</h4>
<pre class="prettyprint linenums">
this.$(&#39;css_selector&#39;);
</pre>

<p>Searches for chosen CSS selector in chosen module; then envelops the found element with JQuery.</p>

<p>Analogue:</p>

<pre class="prettyprint linenums">
this.$el.find(&#39;css_selector&#39;);
</pre>

<h4 id="view-finish">finish</h4>
<pre class="prettyprint linenums">
this.finish();
</pre>

<p>Eliminates the module instance.</p>

<h4 id="view-getChildren">getChildren</h4>
<pre class="prettyprint linenums">
this.getChildren();
</pre>

<p>Brings back the array of child modules, which are indicated during a declaration in <a href="#view-options-of-View-children">children</a>, or which are currently located in this view.</p>

<h4 id="view-bindModel">bindModel</h4>
<pre class="prettyprint linenums">
this.bindModel(model);
</pre>

<p>Sets a <a href="#Model">model</a> for the module. Hereby <a href="#view-render">render()</a> will be called to redraw the module. The module will be automatically subscribed to model events.</p>

<h4 id="view-changeModel">changeModel</h4>
<pre class="prettyprint linenums">
this.changeModel(model);
</pre>

<p>Changes the module <a href="#Model">model</a> into the one rendered in <strong>model</strong>. Here <a href="#view-render">render()</a> will be called to redraw the module.</p>

<h4 id="view-unbindModel">unbindModel</h4>
<pre class="prettyprint linenums">
this.unbindModel(forceRender);
</pre>

<p>Eliminates the module <a href="#Model">model</a>. If this parameter takes value <strong>true</strong>, then <a href="#view-render">render()</a> will be called to redraw the module.</p>

<p>Notice: the call of this method may cause an error if presence of the model is not checked in the template. It is recommended to use only if there are no other ways to solve the task.</p>

<h4 id="view-render">render</h4>
<pre class="prettyprint linenums">
this.render();
</pre>

<p>Rerenders the content of the module.</p>

<p>There is usually no need in calling this method manually.</p>

<h4 id="view-refreshScroll">refreshScroll</h4>
<pre class="prettyprint linenums">
this.refreshScroll();
</pre>

<p>Refreshes the bounds of scrolled content for correct display of scrolling.</p>

<p>There is usually no need in calling this method manually. It can be used during manual placement of content into the module element, which is not recommended.</p>

<h3 id="view-Callbacks">Callbacks</h3>

<p>Callbacks are described by declaration of view, e.g.:</p>

<pre class="prettyprint linenums">
RAD.view(&quot;view.start_page&quot;, RAD.Blanks.View.extend({
    url: &#39;source/views/start_page.html&#39;,
    onEndRender: function () {
        &quot;use strict&quot;;
        console.log(&#39;page rendered!&#39;);
    }
}));
</pre>

<p>Callbacks are functions called by events of view lifecycle:</p>

<pre class="prettyprint linenums">
 // executed during creation of instance
onInitialize: function () {},

// executed during receiving data view through navigator
onNewExtras: function () {},

// executed after getting a message on a channel that matches viewID
onReceiveMsg: function () {},

// executed before the start of templating (creating HTML view)
onStartRender: function () {},

// executed after creating HTML content from a template,
// iScroll in inheritors of RAD.Blanks.ScrollableView does not exist during first displaying
onEndRender: function () {},

// executed before the start of view embedment animation,
// iScroll already exists in inheritors of RAD.Blanks.ScrollableView 
onStartAttach: function () {},

// executed after the stop of view embedment animation
onEndAttach: function () {},

// executed after removing view from DOM
onEndDetach: function () {},

// executed by elimination of the module
onDestroy: function () {}
</pre>

<h4 id="view-Callbacks-onInitialize">onInitialize</h4>
<pre class="prettyprint linenums">
onInitialize: function(){ };
</pre>

<p>Executed by the first callback at the end of constructor during a view instantiation. It is the last moment to directly determine a <a href="#Model">model</a> for the module. Further should be used such view methods as <strong>bindModel</strong> and <strong>unbindModel</strong>.</p>

<h4 id="view-Callbacks-onStartRender">onStartRender</h4>
<pre class="prettyprint linenums">
onStartRender: function(){ };
</pre>

<p>Executed before <strong>render()</strong> of the module. There is no HMTL-rendering of the module on this stage.</p>

<h4 id="view-Callbacks-onEndRender">onEndRender</h4>
<pre class="prettyprint linenums">
onEndRender: function(){ };
</pre>

<p>Executed in module&#39;s <strong>render()</strong> when HTML-rendering is generated from a template. Processing of everything regarding HTML (e.g. insertion of child modules or adding classes) must be performed within this method.</p>

<p>Notice: module&#39;s <strong>render()</strong> is called during the first display of the module and during each change of module model, to which it automatically binds during creation. It is also possible to call module&#39;s <strong>render()</strong> manually.</p>

<h4 id="view-Callbacks-onNewExtras">onNewExtras</h4>
<pre class="prettyprint linenums">
var options = {
    extras: {
        hello : &#39;world&#39;
    }
}
this.publish(&#39;navigation.show&#39;, options);

onNewExtras: function(extras){
    console.log(extras.hello);
};
</pre>

<p>Executed during transmission of new extras through navigator. Perfectly suits for transmission of either a new model or parameters of displayed module. Utilizes the <strong>extras </strong>parameter.</p>

<h4 id="view-Callbacks-onStartAttach">onStartAttach</h4>
<pre class="prettyprint linenums">
onStartAttach: function(channel, options){ };
</pre>

<p>Executed <strong>before</strong> displaying the module and <strong>before</strong> the beginning of animation (even if it does not exist). Takes the channel of the message and data from the <a href="#Core-Navigation">navigation</a> plugin as parameters.</p>

<h4 id="view-Callbacks-onEndAttach">onEndAttach</h4>
<pre class="prettyprint linenums">
onEndAttach: function(channel, options){ };
</pre>

<p>Executed <strong>after</strong> the display of module is over, or <strong>after</strong> the animation is over (even if it does not exist). Takes the channel of the message and data from the <a href="#Core-Navigation">navigation</a> plugin as parameters.</p>

<h4 id="view-Callbacks-onEndDetach">onEndDetach</h4>
<pre class="prettyprint linenums">
onEndDetach: function(channel, options){ };
</pre>

<p>Executed after the final disconnection of the module from current DOM. Takes the channel of the message and data from the <a href="#Core-Navigation">navigation</a> plugin as parameters.</p>

<h4 id="view-Callbacks-onDestroy">onDestroy</h4>
<pre class="prettyprint linenums">
onDestroy: function(){ };
</pre>

<p>Called before elimination of module instance (destructor); has no input parameters.</p>

<h4 id="view-Callbacks-onReceiveMsg">onReceiveMsg</h4>
<pre class="prettyprint linenums">
onReceiveMsg: function(msg, data){ };
</pre>

<p>During the creation a module is automatically subscribed to messages starting with &quot;view.&quot; and its own name. For example, a module named myModule will be subscribed to such messages as &quot;view.myModule&quot; and &quot;view.myModule.doSomeAction&quot;.</p>

<p>Parameters:<br />
<strong>msg</strong> - message channel, line;</p>

<p><strong>data</strong> - object of transmitted data (ref. <a href="#Core-Methods-of-the-core-publish">publish</a>).</p>

<p>Services are subscribed in the same way - on messages starting with <strong>&quot;service.&quot; + &quot;module_name&quot;</strong>.</p>

<h4 id="view-Callbacks-loaderdone">loader.done</h4>
<pre class="prettyprint linenums">
onNewExtras: function (extras) {
    var self = this;
    self.loader.done(function () {
        self.$(&quot;#options&quot;).html(extras.data);
    });
},
</pre>

<p>It is not exactly a callback method. Each module has a deferred object <strong>loader</strong>, which can be given a function that will be executed after loading the HTML-rendering of the module. In case if HTML or HTML-template are loaded beforehand, the function will be executed at once. This method can be used when it is needed to insert the data transmitted through <a href="#view-Callbacks-onNewExtras">extras</a> into ready HTML.</p>

<h3 id="view-options-of-View">Options of View</h3>

<p>Modules are inherited from <a href="http://backbonejs.org/#View" target="_blank">backbone.view</a>, here are described several options.</p>

<h4 id="view-options-of-View-url">url</h4>
<pre class="prettyprint linenums">
url: &#39;source/views/inner/third_widget/third_widget.html&#39;
</pre>

<p>Link to HTML file, used by modules as a template.</p>

<h4 id="view-options-of-View-tagName">tagName Ð¸ ClassName</h4>
<pre class="prettyprint linenums">
tagName: &#39;li&#39;,
className: &#39;my_list_item&#39;
</pre>

<p>Determines the element that will represent module container and its class(es).</p>

<h4 id="view-options-of-View-children">children</h4>
<pre class="prettyprint linenums">
children:[
    {
        container_id: &#39;.sidebar&#39;,
        content: &#39;view.sidebar_menu&#39;,
    },
    {
        container_id: &#39;.content&#39;,
        content: &#39;view.default_content&#39;,
    }
]
</pre>

<p>Array of child modules to be loaded and shown along with the parent module. Attributes are identical to <strong>&#39;navigation.show&#39;</strong>.</p>

<h4 id="view-options-of-View-events">events</h4>
<pre class="prettyprint linenums">
events:{
    &#39;focus .search-by-name&#39;: &#39;showAutocomplete&#39;,
    &#39;click .my_button&#39;:&#39;buttonAction&#39;
},
buttonAction: function(e){
    console.log(e.currentTarget + &#39; clicked&#39;);
},
showAutocomplete: function(){}
</pre>

<p>Subscribes module elements to events.</p>

<h4 id="view-options-of-View-model">model</h4>
<pre class="prettyprint linenums">
//declarative way
model: RAD.models.noteList;

//model determination during initialization
onInitialize: function () {
    &quot;use strict&quot;;

    this.model = RAD.models.noteList;
    this.model.add([
        {title:&#39;test note 1&#39;, &#39;description&#39;:&#39;test note description 1&#39;},
        {title:&#39;test note 2&#39;, &#39;description&#39;:&#39;test note description 2&#39;},
        {title:&#39;test note 3&#39;, &#39;description&#39;:&#39;test note description 3&#39;}
    ]);
},
</pre>

<p>Determines data model for the module. Further about models ref. <a href="#Model">model</a>. View automatically subscribes to model events.</p>

<h4 id="view-options-of-View-custom">custom options</h4>
<pre class="prettyprint linenums">
currentPageDisplay: 2,
showMyCustomWidget: false
</pre>

<p>Any options can be created and used for keeping module statuses.</p>

<p>Do not allow created options to redefine the names of existing ones - this may cause errors.</p>

<h2 id="view-Animation">Animation</h2>

<p>Animation, which is used to display modules. Values can be as follows:</p>

<ul>
	<li>
	<p>&#39;slide&#39; or &#39;slide-in&#39; (equally) - the new module slides from the right, the old one slides to the left;</p>
	</li>
	<li>
	<p>&#39;slide-out&#39; - animation, reverse to &#39;slide-in&#39;</p>
	</li>
	<li>
	<p>&#39;fade&#39; - alpha-animation - the old module fades and the new one appears;</p>
	</li>
	<li>
	<p>&#39;none&#39; - no animation, the new module simply replaces the old one;</p>
	</li>
	<li>
	<p>undefined - &#39;slide&#39; is set by default.</p>
	</li>
</ul>

<pre class="prettyprint linenums">
/* custom animation is possible, */
/* for that you need to describe in CSS an animation which is similar to the following one */
/* suffixes -in Ð¸ -out design direction */
.new-page.fade-in,
.new-page.fade-out {
    opacity: 0;

    -webkit-transition: opacity 350ms ease;
    -moz-transition: opacity 350ms ease;
    -ms-transition: opacity 350ms ease;
    -o-transition: opacity 350ms ease;
    transition: opacity 350ms ease;
}

.old-page.fade-in,
.old-page.fade-out {
    opacity: 1;

    -webkit-transition: opacity 175ms 175ms ease;
    -moz-transition: opacity 175ms 175ms ease;
    -ms-transition: opacity 175ms 175ms ease;
    -o-transition: opacity 175ms 175ms ease;
    transition: opacity 175ms 175ms ease;
}

.animate &gt; .new-page.fade-in,
.animate &gt; .new-page.fade-out {
    opacity: 1;
}

.animate &gt; .old-page.fade-in,
.animate &gt; .old-page.fade-out {
    opacity: 0;
}
</pre>

<h2 id="view-Templates">Templates</h2>

<p>Templates are useful in rendering extensive and complex parts of HMTL-markup from JSON-data. The <a href="http://underscorejs.org/#template" target="_blank">Underscore.js</a> method from the library is used for templating. This method compiles templates to functions, which can be called for rendering a template. Path to HTML-template is indicated as a <a href="#view-options-of-View-url">url</a> option by declaring the <a href="#view">View</a> module. During the rendering of HTML-representation of the module, the <a href="#view-options-of-View-model">view.model</a> of this module, which is transformed into JSON-object, is transmitted to template engine function.</p>

<p>Example of markup with templates:</p>

<pre class="prettyprint linenums">
&lt;div class=&quot;scroll-view-body&quot;&gt;
    &lt;div class=&quot;block&quot;&gt;
        &lt;div class=&quot;block-title&quot;&gt;
            &lt;h2&gt;All Action Items&lt;/h2&gt;
        &lt;/div&gt;
            &lt;ul class=&quot;list-items-view&quot;&gt;
                {{# _(model).each(function(action) { }}
                &lt;li &gt;
                &lt;span class=&quot;priority-indicator {{ action.priority }}&quot;&gt;&lt;/span&gt;
                &lt;div class=&quot;list-item-row row-title&quot;&gt;
                    &lt;div class=&quot;info&quot;&gt;{{ action.title }}&lt;/div&gt;
                    &lt;div class=&quot;details&quot;&gt;Due: {{ action.due }}&lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;list-item-row&quot;&gt;
                    &lt;div class=&quot;info&quot;&gt;Patient: {{ action.patient }} (DOB: {{ action.dob }} )&lt;/div&gt;
                    &lt;div class=&quot;details&quot;&gt;CM Program: {{ action.cm_program }}&lt;/div&gt;
                &lt;/div&gt;
                &lt;/li&gt;
                {{# }); }}
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/div&gt;
</pre>

<p>Syntax within the template:</p>

<ul>
	<li>
	<p><strong>{{ ... }}</strong> - for interpolation of variables;</p>
	</li>
	<li>
	<p><strong>{{# ... }}</strong> - for performing calculations (JavaScript-code inside the template);</p>
	</li>
	<li>
	<p><strong>{{{ ... }}}</strong> - for screening special symbols (HTML-escaped);</p>
	</li>
	<li>
	<p><strong>model</strong> - <a href="#view-options-of-View-model">view.model</a>, transformed into JSON-object.</p>
	</li>
</ul>

<p>The <strong>model</strong> object, which is transferred to the template, lacks the <a href="http://backbonejs.org/#Model" target="_blank">Backbone.Model</a> and <a href="http://backbonejs.org/#Collection" target="_blank">Backbone.Collection</a> options and methods. If it is needed to directly access <a href="#view-options-of-View-model">view.model</a> or other options and methods, one can use direct link named <strong>this</strong>, which leads to current view inside the template.</p>

<p>For building HTML from a large data array, it is convenient to use <a href="http://backbonejs.ru/#Collection-Underscore-Methods" target="_blank">methods</a> of the Underscore library, such as <strong>each()</strong>, <strong>sortBy()</strong>, <strong>filter()</strong> etc.</p>

<p>Example of use of the Underscore.js methods in a template:</p>

<pre class="prettyprint linenums">
RAD.view(&quot;view.persons_list&quot;, RAD.Blanks.View.extend({
    url: &quot;source/views/persons_list.html&quot;,
    onInitialize: function () {
        this.model = RAD.model(&#39;persons&#39;, Backbone.Collection, true);
        this.model.add([
            {&quot;firstName&quot;: &quot;John&quot;, &quot;lastName&quot;: &quot;Doe&quot;},
            {&quot;firstName&quot;: &quot;Homer&quot;, &quot;lastName&quot;: &quot;Simpson&quot;},
            {&quot;firstName&quot;: &quot;Fox&quot;, &quot;lastName&quot;: &quot;Mulder&quot;}
        ]);
    }
}));

&lt;!-- Template persons_list.html: --&gt;
&lt;ul class=&quot;persons_list&quot;&gt;
    {{# _(model).each(function (person) { }}
    &lt;li&gt;{{ person.firstName }} &lt;b&gt;{{ person.lastName }}&lt;/b&gt;&lt;/li&gt;
    {{# }); }}
&lt;/ul&gt;

&lt;!-- After templating: --&gt;
&lt;ul class=&quot;persons_list&quot;&gt;
    &lt;li&gt;John &lt;b&gt;Doe&lt;/b&gt;&lt;/li&gt;
    &lt;li&gt;Homer &lt;b&gt;Simpson&lt;/b&gt;&lt;/li&gt;


    &lt;li&gt;Fox &lt;b&gt;Mulder&lt;/b&gt;&lt;/li&gt;
&lt;/ul&gt;
</pre>

<p>If it is needed to redraw only a part of the module upon a change of <strong>model</strong>, the container holding the template must get the <strong>data-template</strong> attribute.</p>

<p>Example of use of the <strong>data-template</strong> attribute:</p>

<pre class="prettyprint linenums">
&lt;div id=&quot;my_module&quot;&gt;
&lt;!-- content &lt;div&gt; will not be redrawn (radiobutton will not be set to default position) --&gt;
    &lt;div class=&quot;controls&quot;&gt;
        &lt;p&gt;Sort by:&lt;/p&gt;
        &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;sort_by&quot; value=&quot;first_name&quot; /&gt;First Name&lt;/label&gt;
        &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;sort_by&quot; value=&quot;last_name&quot; checked /&gt;Last Name&lt;/label&gt;
    &lt;/div&gt;
    &lt;!-- content &lt;ul&gt; will be redrawn --&gt;
    &lt;ul class=&quot;persons_list&quot; data-template&gt;
        {{# _(model).each(function (person) { }}
        &lt;li&gt;{{ person.firstName }} &lt;b&gt;{{ person.lastName }}&lt;/b&gt;&lt;/li&gt;
        {{# }); }}
    &lt;/ul&gt;
&lt;/div&gt;
</pre>

<h2 id="Toast">Toast</h2>

<p>Module for notifications, which closes automatically after a certain period of time (in 3 seconds by default). Ref. <a href="#Core-Navigation-showtoastshow">navigation.toast.show</a>.</p>

<pre class="prettyprint linenums">
RAD.view(&quot;view.CompleteToast&quot;, RAD.Blanks.Toast.extend({
    //ÑÐ°Ð±Ð»Ð¾Ð½
    url: &#39;source/views/start_page.html&#39;,
    //Ð²ÑÐµÐ¼Ñ Ð¿Ð¾ÐºÐ°Ð·Ð°
    showTime: 5000
}));
</pre>

<p>Notice: the <strong>toast</strong> module element is placed in <strong>body</strong>, ignoring <strong>container_id</strong> in the <a href="#Core-Navigation">navigation</a> options.</p>

<h2 id="Popup">Popup</h2>

<p>The module realizes a self-positioning popup. Ways of positioning are determined in the <a href="#Core-Navigation-showpopupshow">navigation.popup.show</a> options.</p>

<pre class="prettyprint linenums">
RAD.view(&quot;view.PopupOverview&quot;, RAD.Blanks.Popup.extend({
    url: &#39;source/views/popup_dashboard_overview/popup_dashboard_overview.html&#39;,

    onInitialize: function (){
        var Model = Backbone.Model.extend();

        this.model = new Model();
    },
    onNewExtras: function (extras) {
        &#39;use strict&#39;;

        this.model.set({msg: extras});
    },
    // will the popup close by clicking outside the module?
    outSideClose: true,
    // will the module instance be deleted after closing?(Yes by default)
    // if you do not need to delete, write the following line
    onCloseDestroy: false
});
</pre>

<p>Notice: the <strong>popup</strong> module element is placed in <strong>body</strong>, ignoring <strong>container_id</strong> in the <a href="#Core-Navigation">navigation</a> options.</p>

<h2 id="Scrollable-view">Scrollable view</h2>

<p>Module with scrolling content, uses improved version of <a href="http://cubiq.org/iscroll-4" target="_blank">iScroll-lite</a>.</p>

<pre class="prettyprint linenums">
RAD.view(&quot;view.start_page&quot;, RAD.Blanks.View.extend({
    url: &#39;source/views/start_page.html&#39;
}));
</pre>

<p>Notice: for functioning of iScroll&#39;Ð° there must be a<strong>&quot;scroll-view&quot;</strong> class available in HTML for container, in which the content scrolls (if inherited from ScrollableView, it is automatically attached to view).<br />
When scrolled content changes size, a set-up <strong>data-template</strong> attribute is required for correct functioning of scrolling.</p>

<h2 id="Model">Model</h2>

<p><a href="http://backbonejs.org/#Model" target="_blank">backbone.model</a> is used as a data model.</p>

<pre class="prettyprint linenums">
//creating a model
RAD.model(&#39;name&#39;, &lt;backbone.model&gt;, [instantiate]);

//receiving the model (will return undefined, if there is no model)
RAD.model(&#39;name&#39;);
</pre>

<p>RAD.model(...) is a method used for working with the model. Here the following parameters are used:</p>

<ul>
	<li>
	<p><strong>name</strong> - name of the model, which will be created in RAD.models; can be set as &lt;namespace&gt;.&lt;subnamespace&gt;.name;</p>
	</li>
	<li>
	<p><strong>backbone.model</strong> - backbone model (example below);</p>
	</li>
	<li>
	<p><strong>instantiate</strong> - parameter of model instantiation. <strong>true</strong> (or untransferred) - create an instance, <strong>false</strong> - save as constructor.</p>
	</li>
</ul>

<p>Creating a model constructor:</p>

<pre class="prettyprint linenums">
RAD.model(&#39;note&#39;, Backbone.Model.extend({defaults: {
        title: &quot;-&quot;,
        description: &quot;-&quot;
    }
}), false);
</pre>

<p>Creating a model in the module:</p>

<pre class="prettyprint linenums">
onInitialize: function () {
    &quot;use strict&quot;;
    var md = RAD.model(&#39;note&#39;);
    this.model = new md();
    this.model.set({title:&#39;test note 1&#39;, &#39;description&#39;:&#39;test note description 1&#39;})
},
</pre>

<p>Use of model in a template:</p>

<pre class="prettyprint linenums">
&lt;div class=&quot;my page&quot;&gt;
    &lt;h3&gt;Use models, Luke!&lt;/h3&gt;
    &lt;div id=&quot;title&quot;&gt;{{ model.title }}&lt;/div&gt;
    &lt;div id=&quot;description&quot;&gt;{{ model.description }}&lt;/div&gt;
&lt;/div&gt;
</pre>

<p>Upon change of model, the <strong>render()</strong> module method will be called, and ALL its content will be updated automatically. In orded to redraw only a part of the module, the container holding the template must get the <strong>data-template</strong> attribute (for examples ref. <a href="#view-Templates">&quot;Templates&quot;</a>).</p>

<h3 id="Model-of-application-level">Model of application level</h3>

<p>If the model must be available for several modules, one can instantiate a model on application level, and set &#39;true&#39; as the last parameter, to create an instance.</p>

<p>Creating a model instance:</p>

<pre class="prettyprint linenums">
RAD.model(&#39;message&#39;, Backbone.Model.extend({
        defaults: {
            title: &quot;-&quot;,
            description: &quot;-&quot;
        }
}), true);
</pre>

<p>Changing data in the model:</p>

<pre class="prettyprint linenums">
RAD.model(&#39;message&#39;).set({title: &#39;new note&#39;, description: &#39;lorem ipsum dolor&#39;});
</pre>

<h2 id="Service">Service</h2>

<p>Services have no visual representation, and can be used to process the internal logic of the application. Services have several callback-methods, similar to <strong>view</strong>, also can have user-defined attributes and methods.</p>

<h3 id="Service-Declaration">Declaration</h3>

<p>Services are declared similarly to modules and are also instantiated upon receiving the first message.</p>

<pre class="prettyprint linenums">
RAD.service(&quot;service.my_service&quot;, RAD.Blanks.Service.extend({
    onReceiveMsg: function (channel, data) {
        &quot;use strict&quot;;
        var backway = data.split(&quot;&quot;).reverse().join(&quot;&quot;);
        this.publish(&#39;view.widget2&#39;, backway);
    }
}));
</pre>

<h3 id="Service-Callbacks">Callbacks</h3>

<p>Service callbacks are similar to <a href="#view-Callbacks">view callbacks</a>, but not all of them are applicable due to absence of visual representation.</p>

<h4 id="Service-Callbacks-onInitialize">onInitialize</h4>
<pre class="prettyprint linenums">
onInitialize: function(){ };
</pre>

<p>The first of callbacks to be executed at the end of constructor during instantiation of service.</p>

<h4 id="Service-Callbacks-onDestroy">onDestroy</h4>
<pre class="prettyprint linenums">
onDestroy: function(){ };
</pre>

<p>Called before elimination of a service instance (destructor). No input parameters.</p>

<h4 id="Service-Callbacks-onReceiveMsg">onReceiveMsg</h4>
<pre class="prettyprint linenums">
onReceiveMsg: function(msg, data){ };
</pre>

<p>Created service is automatically subscribed to messages starting with &quot;service.&quot; and its name. Similar to <a href="#view-Callbacks-onReceiveMsg">module.onReceiveMsg</a>.</p>

<p>Parameters:<strong>msg</strong> - message channel, a line;</p>

<p><strong>data</strong> - object of transmitted data (ref. <a href="#view-publish">publish</a>).</p>

<h2 id="Namespace">Namespace</h2>

<p>The framework allows to use the <strong>&#39;namespace&#39;</strong> template for structured storage of proper constructors, such as <strong>models</strong>, <strong>views</strong>, <strong>services</strong> etc., or inheriting the existing ones.</p>

<pre class="prettyprint linenums">
RAD.namespace(destination, [obj]);
</pre>

<ul>
	<li>
	<p><strong>destination</strong> - location of namespace;</p>
	</li>
	<li>
	<p><strong>obj</strong> - object which will be defined in this namespace.</p>
	</li>
</ul>

<pre class="prettyprint linenums">
//Creating object authServer in namespace RAD.network.nodes
RAD.namespace(&#39;network.nodes.authServer&#39;, {name: &#39;AuthServer&#39;, baseUrl: &#39;http://192.168.1.1/&#39;});

//Will create in namespace RAD.utils a method getRndInt
RAD.namespace(&#39;RAD.utils.getRndInt&#39;, function (min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
});

RAD.namespace(&#39;RAD.models.toDoList&#39;, Backbone.Collection.extend({
    comparator: function (task) {
        return task.get(&quot;name&quot;);
    }
}));

//Example of inheriting view from RAD.Blanks.ScrollableView and its following declaration.
RAD.namespace(&#39;RAD.views.ListView&#39;, RAD.Blanks.ScrollableView.extend({
    model: new RAD.models.toDoList
}));
RAD.view(&#39;view.todo_list&#39;, RAD.views.ListView);
</pre>

<p>Notice: if Backbone.View (instead of RAD.Blanks.View) serves as prototype during view inheritance, then view-inheritor will not have the <strong>RAD.Blanks.View</strong> <a href="#view-Callbacks">callback-methods</a>.</p>

<p>The framework provides ready <strong>namespaces</strong>:</p>

<ul>
	<li>
	<p><strong>RAD.Class</strong> - for custom classes;</p>
	</li>
	<li>
	<p><strong>RAD.models</strong> - for models and collections;</p>
	</li>
	<li>
	<p><strong>RAD.views</strong> - for view constructors;</p>
	</li>
	<li>
	<p><strong>RAD.services</strong> - for services;</p>
	</li>
	<li>
	<p><strong>RAD.plugins</strong> - for plugins;</p>
	</li>
	<li>
	<p><strong>RAD.utils</strong> - for useful utility methods.</p>
	</li>
</ul>

</div>
</div>
<script src="prettify/prettify.js"></script>
<script src="js/jquery-1.10.2.min.js"></script>
<script src="js/main.js"></script>

<script>prettyPrint();</script>

		
</body>
</html>